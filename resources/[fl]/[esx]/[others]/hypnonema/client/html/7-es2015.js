(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{uBXI:function(e,t,n){"use strict";n.r(t),n.d(t,"ScreensModule",(function(){return ct}));var i=n("ofXK"),r=n("tyNb"),o=n("mrSG"),a=n("AcyG"),s=n("sxot"),l=n("fXoL"),c=n("/rnm"),d=n("+0xr"),b=n("bTqV"),p=n("Qu3c"),m=n("NFeN");function u(e,t){1&e&&(l.Xb(0,"th",14),l.Dc(1,"Actions"),l.Wb())}function h(e,t){if(1&e){const e=l.Yb();l.Xb(0,"td",15),l.Xb(1,"button",16),l.fc("click",(function(){l.uc(e);const n=t.$implicit;return l.jc().editScreen(n)})),l.Xb(2,"mat-icon"),l.Dc(3,"edit"),l.Wb(),l.Wb(),l.Xb(4,"button",17),l.fc("click",(function(){l.uc(e);const n=t.$implicit;return l.jc().deleteScreen(n)})),l.Xb(5,"mat-icon"),l.Dc(6,"delete"),l.Wb(),l.Wb(),l.Wb()}}function g(e,t){1&e&&(l.Xb(0,"th",14),l.Dc(1,"Name"),l.Wb())}function f(e,t){if(1&e&&(l.Xb(0,"td",15),l.Dc(1),l.Wb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(e.name)}}function v(e,t){1&e&&(l.Xb(0,"th",14),l.Dc(1,"Always On"),l.Wb())}function _(e,t){if(1&e&&(l.Xb(0,"td",15),l.Dc(1),l.Wb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(e.alwaysOn)}}function D(e,t){1&e&&(l.Xb(0,"th",14),l.Dc(1,"Model-Name"),l.Wb())}function x(e,t){if(1&e&&(l.Xb(0,"td",15),l.Dc(1),l.Wb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(null==e.targetSettings?null:e.targetSettings.modelName)}}function y(e,t){1&e&&(l.Xb(0,"th",14),l.Dc(1,"RenderTarget Name"),l.Wb())}function C(e,t){if(1&e&&(l.Xb(0,"td",15),l.Dc(1),l.Wb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(null==e.targetSettings?null:e.targetSettings.renderTargetName)}}function X(e,t){1&e&&l.Sb(0,"tr",18)}function E(e,t){1&e&&l.Sb(0,"tr",19)}let S=(()=>{class e{constructor(e,t,n){this.router=e,this.nuiService=t,this.store=n,this.displayedColumns=["actions","name","modelName","targetName","alwaysOn"]}ngOnInit(){}editScreen(e){this.store.dispatch(new s.i(e)),this.router.navigateByUrl("/screens/edit-screen")}deleteScreen(e){this.nuiService.deleteScreen(e.name)}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(r.a),l.Rb(c.a),l.Rb(a.g))},e.\u0275cmp=l.Lb({type:e,selectors:[["app-screens"]],decls:26,vars:3,consts:[[1,"wrapper"],[1,"screens-table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","alwaysOn"],["matColumnDef","modelName"],["matColumnDef","targetName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"fab-container"],["mat-fab","","matTooltip","create a new Screen","routerLink","/screens/create-new-screen","color","primary",1,"md-fab-right"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent","aria-label","Edit Screen","matTooltip","Edit Screen",3,"click"],["mat-icon-button","","color","warn","aria-label","Delete Screen","matTooltip","Delete Screen",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(l.Xb(0,"div",0),l.Xb(1,"div",1),l.Xb(2,"h3"),l.Dc(3,"Screens"),l.Wb(),l.Xb(4,"table",2),l.Vb(5,3),l.Bc(6,u,2,0,"th",4),l.Bc(7,h,7,0,"td",5),l.Ub(),l.Vb(8,6),l.Bc(9,g,2,0,"th",4),l.Bc(10,f,2,1,"td",5),l.Ub(),l.Vb(11,7),l.Bc(12,v,2,0,"th",4),l.Bc(13,_,2,1,"td",5),l.Ub(),l.Vb(14,8),l.Bc(15,D,2,0,"th",4),l.Bc(16,x,2,1,"td",5),l.Ub(),l.Vb(17,9),l.Bc(18,y,2,0,"th",4),l.Bc(19,C,2,1,"td",5),l.Ub(),l.Bc(20,X,1,0,"tr",10),l.Bc(21,E,1,0,"tr",11),l.Wb(),l.Wb(),l.Xb(22,"div",12),l.Xb(23,"button",13),l.Xb(24,"mat-icon"),l.Dc(25,"add"),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&e&&(l.Eb(4),l.oc("dataSource",t.screens$),l.Eb(16),l.oc("matHeaderRowDef",t.displayedColumns),l.Eb(1),l.oc("matRowDefColumns",t.displayedColumns))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,b.b,p.a,r.b,m.a,d.d,d.a,d.f,d.h],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.screens-table[_ngcontent-%COMP%]{height:390px}.fab-container[_ngcontent-%COMP%]{flex-grow:1}.md-fab-right[_ngcontent-%COMP%]{left:550px;position:relative!important;top:-15px}table[_ngcontent-%COMP%]{width:100%}"]}),Object(o.a)([Object(a.d)(s.a.getScreens)],e.prototype,"screens$",void 0),e})();var F=n("3Pt+"),W=n("Wp6s"),w=n("+rOU"),O=n("u47x"),R=n("cH1L"),I=n("8LU1"),T=n("FtGj"),N=n("XNiG"),j=n("LRne"),k=n("JX91"),A=n("1G5W");function M(e,t){1&e&&l.mc(0)}const P=["*"];let L=(()=>{class e{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(l.m))},e.\u0275dir=l.Mb({type:e,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),e})(),B=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(l.N))},e.\u0275dir=l.Mb({type:e,selectors:[["","cdkStepLabel",""]]}),e})(),q=0;const Z=new l.s("STEPPER_GLOBAL_OPTIONS");let z=(()=>{class e{constructor(e,t){this._stepper=e,this.interacted=!1,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=t||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}get editable(){return this._editable}set editable(e){this._editable=Object(I.c)(e)}get optional(){return this._optional}set optional(e){this._optional=Object(I.c)(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=Object(I.c)(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=Object(I.c)(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(Object(l.V)(()=>Y)),l.Rb(Z,8))},e.\u0275cmp=l.Lb({type:e,selectors:[["cdk-step"]],contentQueries:function(e,t,n){var i;1&e&&l.Kb(n,B,!0),2&e&&l.qc(i=l.gc())&&(t.stepLabel=i.first)},viewQuery:function(e,t){var n;1&e&&l.zc(l.N,!0),2&e&&l.qc(n=l.gc())&&(t.content=n.first)},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},exportAs:["cdkStep"],features:[l.Cb],ngContentSelectors:P,decls:1,vars:0,template:function(e,t){1&e&&(l.nc(),l.Bc(0,M,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),e})(),Y=(()=>{class e{constructor(e,t,n,i){this._dir=e,this._changeDetectorRef=t,this._elementRef=n,this._destroyed=new N.a,this._linear=!1,this._selectedIndex=0,this.selectionChange=new l.p,this._orientation="horizontal",this._groupId=q++,this._document=i}get steps(){return this._steps}get linear(){return this._linear}set linear(e){this._linear=Object(I.c)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const t=Object(I.f)(e);if(this.steps){if(t<0||t>this.steps.length-1)throw Error("cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.");this._selectedIndex!=t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(e)}else this._selectedIndex=t}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=this.steps?this.steps.toArray().indexOf(e):-1}ngAfterViewInit(){this._keyManager=new O.d(this._stepHeader).withWrap().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Object(j.a)()).pipe(Object(k.a)(this._layoutDirection()),Object(A.a)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.pipe(Object(A.a)(this._destroyed)).subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const t=e-this._selectedIndex;return t<0?"rtl"===this._layoutDirection()?"next":"previous":t>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,t="number"){const n=this.steps.toArray()[e],i=this._isCurrentStep(e);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,i):this._getGuidelineLogic(n,i,t)}_getDefaultIndicatorLogic(e,t){return e._showError&&e.hasError&&!t?"error":!e.completed||t?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,t,n="number"){return e._showError&&e.hasError&&!t?"error":e.completed&&!t?"done":e.completed&&t?n:e.editable&&t?"edit":n}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const t=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:t[e],previouslySelectedStep:t[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const t=Object(T.s)(e),n=e.keyCode,i=this._keyManager;null==i.activeItemIndex||t||n!==T.n&&n!==T.f?n===T.h?(i.setFirstItemActive(),e.preventDefault()):n===T.e?(i.setLastItemActive(),e.preventDefault()):i.onKeydown(e):(this.selectedIndex=i.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){const t=this.steps.toArray();return t[this._selectedIndex].interacted=!0,!!(this._linear&&e>=0)&&t.slice(0,e).some(e=>{const t=e.stepControl;return(t?t.invalid||t.pending||!e.interacted:!e.completed)&&!e.optional&&!e._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){if(!this._document||!this._elementRef)return!1;const e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(R.b,8),l.Rb(l.i),l.Rb(l.m),l.Rb(i.d))},e.\u0275dir=l.Mb({type:e,selectors:[["","cdkStepper",""]],contentQueries:function(e,t,n){var i;1&e&&(l.Kb(n,z,!0),l.Kb(n,L,!0)),2&e&&(l.qc(i=l.gc())&&(t._steps=i),l.qc(i=l.gc())&&(t._stepHeader=i))},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),e})(),V=(()=>{class e{constructor(e){this._stepper=e,this.type="submit"}_handleClick(){this._stepper.next()}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(Y))},e.\u0275dir=l.Mb({type:e,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,t){1&e&&l.fc("click",(function(){return t._handleClick()})),2&e&&l.ac("type",t.type)},inputs:{type:"type"}}),e})(),H=(()=>{class e{constructor(e){this._stepper=e,this.type="button"}_handleClick(){this._stepper.previous()}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(Y))},e.\u0275dir=l.Mb({type:e,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,t){1&e&&l.fc("click",(function(){return t._handleClick()})),2&e&&l.ac("type",t.type)},inputs:{type:"type"}}),e})(),G=(()=>{class e{}return e.\u0275mod=l.Pb({type:e}),e.\u0275inj=l.Ob({factory:function(t){return new(t||e)},imports:[[R.a]]}),e})();var $=n("FKr1"),U=n("/uUt"),K=n("R0Ic");function Q(e,t){if(1&e&&l.Tb(0,9),2&e){const e=l.jc();l.oc("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function J(e,t){if(1&e&&(l.Xb(0,"span"),l.Dc(1),l.Wb()),2&e){const e=l.jc(2);l.Eb(1),l.Ec(e._getDefaultTextForState(e.state))}}function ee(e,t){if(1&e&&(l.Xb(0,"mat-icon"),l.Dc(1),l.Wb()),2&e){const e=l.jc(2);l.Eb(1),l.Ec(e._getDefaultTextForState(e.state))}}function te(e,t){if(1&e&&(l.Vb(0,10),l.Bc(1,J,2,1,"span",11),l.Bc(2,ee,2,1,"mat-icon",12),l.Ub()),2&e){const e=l.jc();l.oc("ngSwitch",e.state),l.Eb(1),l.oc("ngSwitchCase","number")}}function ne(e,t){if(1&e&&l.Tb(0,13),2&e){const e=l.jc();l.oc("ngTemplateOutlet",e._templateLabel().template)}}function ie(e,t){if(1&e&&(l.Xb(0,"div",14),l.Dc(1),l.Wb()),2&e){const e=l.jc();l.Eb(1),l.Ec(e.label)}}function re(e,t){if(1&e&&(l.Xb(0,"div",15),l.Dc(1),l.Wb()),2&e){const e=l.jc();l.Eb(1),l.Ec(e._intl.optionalLabel)}}function oe(e,t){if(1&e&&(l.Xb(0,"div",16),l.Dc(1),l.Wb()),2&e){const e=l.jc();l.Eb(1),l.Ec(e.errorMessage)}}function ae(e,t){1&e&&l.mc(0)}const se=["*"];function le(e,t){1&e&&l.Sb(0,"div",6)}function ce(e,t){if(1&e){const e=l.Yb();l.Vb(0),l.Xb(1,"mat-step-header",4),l.fc("click",(function(){return t.$implicit.select()}))("keydown",(function(t){return l.uc(e),l.jc()._onKeydown(t)})),l.Wb(),l.Bc(2,le,1,0,"div",5),l.Ub()}if(2&e){const e=t.$implicit,n=t.index,i=t.last,r=l.jc();l.Eb(1),l.oc("tabIndex",r._getFocusIndex()===n?0:-1)("id",r._getStepLabelId(n))("index",n)("state",r._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===n)("active",e.completed||r.selectedIndex===n||!r.linear)("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple),l.Fb("aria-posinset",n+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),l.Eb(1),l.oc("ngIf",!i)}}function de(e,t){if(1&e){const e=l.Yb();l.Xb(0,"div",7),l.fc("@stepTransition.done",(function(t){return l.uc(e),l.jc()._animationDone.next(t)})),l.Tb(1,8),l.Wb()}if(2&e){const e=t.$implicit,n=t.index,i=l.jc();l.oc("@stepTransition",i._getAnimationDirection(n))("id",i._getStepContentId(n)),l.Fb("tabindex",i.selectedIndex===n?0:null)("aria-labelledby",i._getStepLabelId(n))("aria-expanded",i.selectedIndex===n),l.Eb(1),l.oc("ngTemplateOutlet",e.content)}}let be=(()=>{class e extends B{}return e.\u0275fac=function(t){return pe(t||e)},e.\u0275dir=l.Mb({type:e,selectors:[["","matStepLabel",""]],features:[l.Bb]}),e})();const pe=l.Zb(be);let me=(()=>{class e{constructor(){this.changes=new N.a,this.optionalLabel="Optional"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(l.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const ue={provide:me,deps:[[new l.C,new l.L,me]],useFactory:function(e){return e||new me}};let he=(()=>{class e extends L{constructor(e,t,n,i){super(n),this._intl=e,this._focusMonitor=t,t.monitor(n,!0),this._intlSubscription=e.changes.subscribe(()=>i.markForCheck())}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(){this._focusMonitor.focusVia(this._elementRef,"program")}_stringLabel(){return this.label instanceof be?null:this.label}_templateLabel(){return this.label instanceof be?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(me),l.Rb(O.e),l.Rb(l.m),l.Rb(l.i))},e.\u0275cmp=l.Lb({type:e,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header","mat-focus-indicator"],inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[l.Bb],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],[3,"ngTemplateOutlet",4,"ngIf"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,t){1&e&&(l.Sb(0,"div",0),l.Xb(1,"div"),l.Xb(2,"div",1),l.Bc(3,Q,1,2,"ng-container",2),l.Bc(4,te,3,2,"ng-container",3),l.Wb(),l.Wb(),l.Xb(5,"div",4),l.Bc(6,ne,1,1,"ng-container",5),l.Bc(7,ie,2,1,"div",6),l.Bc(8,re,2,1,"div",7),l.Bc(9,oe,2,1,"div",8),l.Wb()),2&e&&(l.oc("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disableRipple),l.Eb(1),l.Hb("mat-step-icon-state-",t.state," mat-step-icon"),l.Ib("mat-step-icon-selected",t.selected),l.Eb(1),l.oc("ngSwitch",!(!t.iconOverrides||!t.iconOverrides[t.state])),l.Eb(1),l.oc("ngSwitchCase",!0),l.Eb(2),l.Ib("mat-step-label-active",t.active)("mat-step-label-selected",t.selected)("mat-step-label-error","error"==t.state),l.Eb(1),l.oc("ngIf",t._templateLabel()),l.Eb(1),l.oc("ngIf",t._stringLabel()),l.Eb(1),l.oc("ngIf",t.optional&&"error"!=t.state),l.Eb(1),l.oc("ngIf","error"==t.state))},directives:[$.m,i.m,i.n,i.o,i.k,i.p,m.a],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e})();const ge={horizontalStepTransition:Object(K.m)("stepTransition",[Object(K.j)("previous",Object(K.k)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Object(K.j)("current",Object(K.k)({transform:"none",visibility:"visible"})),Object(K.j)("next",Object(K.k)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Object(K.l)("* => *",Object(K.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:Object(K.m)("stepTransition",[Object(K.j)("previous",Object(K.k)({height:"0px",visibility:"hidden"})),Object(K.j)("next",Object(K.k)({height:"0px",visibility:"hidden"})),Object(K.j)("current",Object(K.k)({height:"*",visibility:"visible"})),Object(K.l)("* <=> current",Object(K.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let fe=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(l.N))},e.\u0275dir=l.Mb({type:e,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),e})(),ve=(()=>{class e extends z{constructor(e,t,n){super(e,n),this._errorStateMatcher=t}isErrorState(e,t){return this._errorStateMatcher.isErrorState(e,t)||!!(e&&e.invalid&&this.interacted)}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(Object(l.V)(()=>_e)),l.Rb($.a,4),l.Rb(Z,8))},e.\u0275cmp=l.Lb({type:e,selectors:[["mat-step"]],contentQueries:function(e,t,n){var i;1&e&&l.Kb(n,be,!0),2&e&&l.qc(i=l.gc())&&(t.stepLabel=i.first)},exportAs:["matStep"],features:[l.Db([{provide:$.a,useExisting:e},{provide:z,useExisting:e}]),l.Bb],ngContentSelectors:se,decls:1,vars:0,template:function(e,t){1&e&&(l.nc(),l.Bc(0,ae,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),e})(),_e=(()=>{class e extends Y{constructor(){super(...arguments),this.animationDone=new l.p,this._iconOverrides={},this._animationDone=new N.a}ngAfterContentInit(){this._icons.forEach(({name:e,templateRef:t})=>this._iconOverrides[e]=t),this._steps.changes.pipe(Object(A.a)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Object(U.a)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState),Object(A.a)(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}}return e.\u0275fac=function(t){return De(t||e)},e.\u0275dir=l.Mb({type:e,selectors:[["","matStepper",""]],contentQueries:function(e,t,n){var i;1&e&&(l.Kb(n,ve,!0),l.Kb(n,fe,!0)),2&e&&(l.qc(i=l.gc())&&(t._steps=i),l.qc(i=l.gc())&&(t._icons=i))},viewQuery:function(e,t){var n;1&e&&l.Ic(he,!0),2&e&&l.qc(n=l.gc())&&(t._stepHeader=n)},inputs:{disableRipple:"disableRipple"},outputs:{animationDone:"animationDone"},features:[l.Db([{provide:Y,useExisting:e}]),l.Bb]}),e})();const De=l.Zb(_e);let xe=(()=>{class e extends _e{constructor(){super(...arguments),this.labelPosition="end"}}return e.\u0275fac=function(t){return ye(t||e)},e.\u0275cmp=l.Lb({type:e,selectors:[["mat-horizontal-stepper"]],hostAttrs:["aria-orientation","horizontal","role","tablist",1,"mat-stepper-horizontal"],hostVars:4,hostBindings:function(e,t){2&e&&l.Ib("mat-stepper-label-position-end","end"==t.labelPosition)("mat-stepper-label-position-bottom","bottom"==t.labelPosition)},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition"},exportAs:["matHorizontalStepper"],features:[l.Db([{provide:_e,useExisting:e},{provide:Y,useExisting:e}]),l.Bb],decls:4,vars:2,consts:[[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[1,"mat-horizontal-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","click","keydown"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(l.Xb(0,"div",0),l.Bc(1,ce,3,18,"ng-container",1),l.Wb(),l.Xb(2,"div",2),l.Bc(3,de,2,6,"div",3),l.Wb()),2&e&&(l.Eb(1),l.oc("ngForOf",t.steps),l.Eb(2),l.oc("ngForOf",t.steps))},directives:[i.j,he,i.k,i.p],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:36px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;top:36px;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto;padding:24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[ge.horizontalStepTransition]},changeDetection:0}),e})();const ye=l.Zb(xe);let Ce=(()=>{class e extends V{}return e.\u0275fac=function(t){return Xe(t||e)},e.\u0275dir=l.Mb({type:e,selectors:[["button","matStepperNext",""]],hostVars:1,hostBindings:function(e,t){2&e&&l.ac("type",t.type)},inputs:{type:"type"},features:[l.Bb]}),e})();const Xe=l.Zb(Ce);let Ee=(()=>{class e extends H{}return e.\u0275fac=function(t){return Se(t||e)},e.\u0275dir=l.Mb({type:e,selectors:[["button","matStepperPrevious",""]],hostVars:1,hostBindings:function(e,t){2&e&&l.ac("type",t.type)},inputs:{type:"type"},features:[l.Bb]}),e})();const Se=l.Zb(Ee);let Fe=(()=>{class e{}return e.\u0275mod=l.Pb({type:e}),e.\u0275inj=l.Ob({factory:function(t){return new(t||e)},providers:[ue,$.a],imports:[[$.e,i.c,w.f,b.c,G,m.b,$.n],$.e]}),e})();var We=n("kmnG"),we=n("qFsG"),Oe=n("bSwM"),Re=n("5RNC");let Ie=(()=>{class e{constructor(e){this.ngControl=e}set appEnableControl(e){this.ngControl&&this.ngControl.control&&(e?this.ngControl.control.enable():this.ngControl.control.disable())}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(F.i))},e.\u0275dir=l.Mb({type:e,selectors:[["","appEnableControl",""]],inputs:{appEnableControl:"appEnableControl"}}),e})();function Te(e,t){1&e&&l.Dc(0,"Enter details")}function Ne(e,t){1&e&&l.Dc(0,"RenderTarget Settings")}function je(e,t){if(1&e&&(l.Xb(0,"div"),l.Xb(1,"mat-form-field"),l.Sb(2,"input",16),l.Xb(3,"mat-error"),l.Dc(4,"Please enter a name"),l.Wb(),l.Wb(),l.Xb(5,"mat-form-field",17),l.Sb(6,"input",18),l.Xb(7,"mat-error"),l.Dc(8,"Please enter a valid renderTarget"),l.Wb(),l.Wb(),l.Wb()),2&e){const e=l.jc();l.Eb(2),l.oc("appEnableControl",!1===e.renderTargetForm.get("is3DRendered").value),l.Eb(4),l.oc("appEnableControl",!1===e.renderTargetForm.get("is3DRendered").value)}}function ke(e,t){if(1&e&&(l.Xb(0,"div"),l.Xb(1,"div"),l.Xb(2,"mat-form-field"),l.Sb(3,"input",19),l.Xb(4,"mat-error"),l.Dc(5,"Please enter X Position"),l.Wb(),l.Xb(6,"mat-label"),l.Dc(7,"Position X"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div"),l.Xb(9,"mat-form-field"),l.Sb(10,"input",20),l.Xb(11,"mat-error"),l.Dc(12,"Please enter Y Position"),l.Wb(),l.Xb(13,"mat-label"),l.Dc(14,"Position Y"),l.Wb(),l.Wb(),l.Wb(),l.Xb(15,"div"),l.Xb(16,"mat-form-field"),l.Sb(17,"input",21),l.Xb(18,"mat-error"),l.Dc(19,"Please enter Z Position"),l.Wb(),l.Xb(20,"mat-label"),l.Dc(21,"Position Z"),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"div"),l.Xb(23,"mat-form-field"),l.Sb(24,"input",22),l.Xb(25,"mat-error"),l.Dc(26,"Please enter X Rotation"),l.Wb(),l.Xb(27,"mat-label"),l.Dc(28,"Rotation X"),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"div"),l.Xb(30,"mat-form-field"),l.Sb(31,"input",23),l.Xb(32,"mat-error"),l.Dc(33,"Please enter Y Rotation"),l.Wb(),l.Xb(34,"mat-label"),l.Dc(35,"Rotation Y"),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div"),l.Xb(37,"mat-form-field"),l.Sb(38,"input",24),l.Xb(39,"mat-error"),l.Dc(40,"Please enter Z Rotation"),l.Wb(),l.Xb(41,"mat-label"),l.Dc(42,"Rotation Z"),l.Wb(),l.Wb(),l.Wb(),l.Xb(43,"div"),l.Xb(44,"mat-form-field"),l.Sb(45,"input",25),l.Xb(46,"mat-error"),l.Dc(47,"Please enter X Scale"),l.Wb(),l.Xb(48,"mat-label"),l.Dc(49,"Scale X"),l.Wb(),l.Wb(),l.Wb(),l.Xb(50,"div"),l.Xb(51,"mat-form-field"),l.Sb(52,"input",26),l.Xb(53,"mat-error"),l.Dc(54,"Please enter Y Scale"),l.Wb(),l.Xb(55,"mat-label"),l.Dc(56,"Scale Y"),l.Wb(),l.Wb(),l.Wb(),l.Xb(57,"div"),l.Xb(58,"mat-form-field"),l.Sb(59,"input",27),l.Xb(60,"mat-error"),l.Dc(61,"Please enter Z Scale"),l.Wb(),l.Xb(62,"mat-label"),l.Dc(63,"Scale Z"),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&e){const e=l.jc();l.Eb(3),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value),l.Eb(7),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value),l.Eb(7),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value),l.Eb(7),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value),l.Eb(7),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value),l.Eb(7),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value),l.Eb(7),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value),l.Eb(7),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value),l.Eb(7),l.oc("appEnableControl",!0===e.renderTargetForm.get("is3DRendered").value)}}function Ae(e,t){1&e&&l.Dc(0,"Sound Settings")}function Me(e,t){if(1&e&&(l.Xb(0,"div"),l.Xb(1,"div"),l.Xb(2,"em"),l.Dc(3,"Sound Attenuation"),l.Wb(),l.Sb(4,"mat-slider",28),l.Dc(5),l.Wb(),l.Xb(6,"div"),l.Xb(7,"em"),l.Dc(8,"Sound Min. Distance"),l.Wb(),l.Sb(9,"mat-slider",29),l.Dc(10),l.Wb(),l.Xb(11,"div"),l.Xb(12,"em"),l.Dc(13,"Sound Max. Distance"),l.Wb(),l.Sb(14,"mat-slider",30),l.Dc(15),l.Wb(),l.Wb()),2&e){const e=l.jc();l.Eb(4),l.oc("max",100)("min",1),l.Eb(1),l.Fc(" ",e.soundForm.get("soundAttenuation").value," "),l.Eb(4),l.oc("min",1)("max",250),l.Eb(1),l.Fc(" ",e.soundForm.get("soundMinDistance").value," "),l.Eb(4),l.oc("min",1)("max",1e3),l.Eb(1),l.Fc(" ",e.soundForm.get("soundMaxDistance").value," ")}}function Pe(e,t){if(1&e&&(l.Xb(0,"div"),l.Xb(1,"div"),l.Xb(2,"mat-form-field"),l.Xb(3,"mat-label"),l.Dc(4,"Model-Name"),l.Wb(),l.Sb(5,"input",10),l.Wb(),l.Wb(),l.Xb(6,"div"),l.Xb(7,"mat-form-field"),l.Xb(8,"mat-label"),l.Dc(9,"RenderTarget-Name"),l.Wb(),l.Sb(10,"input",11),l.Wb(),l.Wb(),l.Wb()),2&e){const e=l.jc();l.Eb(5),l.oc("appEnableControl",!1===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!1===e.screenForm.get("is3DRendered").value)}}function Le(e,t){if(1&e&&(l.Xb(0,"div"),l.Xb(1,"div"),l.Xb(2,"mat-form-field"),l.Xb(3,"mat-label"),l.Dc(4,"Position X"),l.Wb(),l.Sb(5,"input",12),l.Wb(),l.Wb(),l.Xb(6,"div"),l.Xb(7,"mat-form-field"),l.Xb(8,"mat-label"),l.Dc(9,"Position Y"),l.Wb(),l.Sb(10,"input",13),l.Wb(),l.Wb(),l.Xb(11,"div"),l.Xb(12,"mat-form-field"),l.Xb(13,"mat-label"),l.Dc(14,"Position Z"),l.Wb(),l.Sb(15,"input",14),l.Wb(),l.Wb(),l.Xb(16,"div"),l.Xb(17,"mat-form-field"),l.Xb(18,"mat-label"),l.Dc(19,"Rotation X"),l.Wb(),l.Sb(20,"input",15),l.Wb(),l.Wb(),l.Xb(21,"div"),l.Xb(22,"mat-form-field"),l.Xb(23,"mat-label"),l.Dc(24,"Rotation Y"),l.Wb(),l.Sb(25,"input",16),l.Wb(),l.Wb(),l.Xb(26,"div"),l.Xb(27,"mat-form-field"),l.Xb(28,"mat-label"),l.Dc(29,"Rotation Z"),l.Wb(),l.Sb(30,"input",17),l.Wb(),l.Wb(),l.Xb(31,"div"),l.Xb(32,"mat-form-field"),l.Xb(33,"mat-label"),l.Dc(34,"Scale X"),l.Wb(),l.Sb(35,"input",18),l.Wb(),l.Wb(),l.Xb(36,"div"),l.Xb(37,"mat-form-field"),l.Xb(38,"mat-label"),l.Dc(39,"Scale Y"),l.Wb(),l.Sb(40,"input",19),l.Wb(),l.Wb(),l.Xb(41,"div"),l.Xb(42,"mat-form-field"),l.Xb(43,"mat-label"),l.Dc(44,"Scale Z"),l.Wb(),l.Sb(45,"input",20),l.Wb(),l.Wb(),l.Wb()),2&e){const e=l.jc();l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value),l.Eb(5),l.oc("appEnableControl",!0===e.screenForm.get("is3DRendered").value)}}function Be(e,t){if(1&e&&(l.Xb(0,"div"),l.Xb(1,"div"),l.Xb(2,"mat-label"),l.Dc(3,"Sound-Attenuation"),l.Wb(),l.Sb(4,"mat-slider",21),l.Dc(5),l.Wb(),l.Xb(6,"div"),l.Xb(7,"mat-label"),l.Dc(8,"Sound Min. Distance"),l.Wb(),l.Sb(9,"mat-slider",22),l.Dc(10),l.Wb(),l.Xb(11,"div"),l.Xb(12,"mat-label"),l.Dc(13,"Sound Max. Distance"),l.Wb(),l.Sb(14,"mat-slider",23),l.Dc(15),l.Wb(),l.Wb()),2&e){const e=l.jc();l.Eb(4),l.oc("min",0)("max",100)("step",1),l.Eb(1),l.Fc(" ",e.screenForm.get("soundAttenuation").value," "),l.Eb(4),l.oc("min",1)("max",200)("step",1),l.Eb(1),l.Fc(" ",e.screenForm.get("soundMinDistance").value," "),l.Eb(4),l.oc("min",1)("max",1e3)("step",10),l.Eb(1),l.Fc(" ",e.screenForm.get("soundMaxDistance").value," ")}}const qe=[{path:"",component:S},{path:"create-new-screen",component:(()=>{class e{constructor(e,t){this.fb=e,this.nuiService=t}get screenName(){return this.screenForm.get("name").value}get modelName(){return this.renderTargetForm.get("modelName").value}get renderTargetName(){return this.renderTargetForm.get("renderTargetName").value}get is3DRendered(){return this.renderTargetForm.get("is3DRendered").value}get positionX(){return this.renderTargetForm.get("positionX").value}get positionY(){return this.renderTargetForm.get("positionY").value}get positionZ(){return this.renderTargetForm.get("positionZ").value}get rotationX(){return this.renderTargetForm.get("rotationX").value}get rotationZ(){return this.renderTargetForm.get("rotationZ").value}get rotationY(){return this.renderTargetForm.get("rotationY").value}get scaleX(){return this.renderTargetForm.get("scaleX").value}get scaleZ(){return this.renderTargetForm.get("scaleZ").value}get scaleY(){return this.renderTargetForm.get("scaleY").value}get globalVolume(){return this.soundForm.get("globalVolume").value}get soundMaxDistance(){return this.soundForm.get("soundMaxDistance").value}get soundMinDistance(){return this.soundForm.get("soundMinDistance").value}get soundAttenuation(){return this.soundForm.get("soundAttenuation").value}get is3DAudioEnabled(){return this.soundForm.get("is3DAudioEnabled").value}get alwaysOn(){return this.screenForm.get("alwaysOn").value}ngOnInit(){this.screenForm=this.fb.group({name:["",[F.q.required]],alwaysOn:[!1]}),this.renderTargetForm=this.fb.group({modelName:["",[F.q.required]],renderTargetName:["",[F.q.required]],is3DRendered:[!1],positionX:[0,[F.q.required]],positionY:[0,[F.q.required]],positionZ:[0,[F.q.required]],rotationX:[0,[F.q.required]],rotationY:[0,[F.q.required]],rotationZ:[0,[F.q.required]],scaleX:[0,[F.q.required]],scaleY:[0,[F.q.required]],scaleZ:[0,[F.q.required]]}),this.soundForm=this.fb.group({globalVolume:[100],soundAttenuation:[5],soundMinDistance:[15],soundMaxDistance:[100],is3DAudioEnabled:[!0]}),this.renderTargetForm.get("is3DRendered").valueChanges.subscribe(e=>{e?(this.renderTargetForm.get("modelName").disable(),this.renderTargetForm.get("renderTargetName").disable(),this.renderTargetForm.get("positionX").enable(),this.renderTargetForm.get("positionY").enable(),this.renderTargetForm.get("positionZ").enable(),this.renderTargetForm.get("scaleX").enable(),this.renderTargetForm.get("scaleY").enable(),this.renderTargetForm.get("scaleZ").enable(),this.renderTargetForm.get("rotationX").enable(),this.renderTargetForm.get("rotationY").enable(),this.renderTargetForm.get("rotationZ").enable()):(this.renderTargetForm.get("modelName").enable(),this.renderTargetForm.get("renderTargetName").enable(),this.renderTargetForm.get("positionX").disable(),this.renderTargetForm.get("positionY").disable(),this.renderTargetForm.get("positionZ").disable(),this.renderTargetForm.get("scaleX").disable(),this.renderTargetForm.get("scaleY").disable(),this.renderTargetForm.get("scaleZ").disable(),this.renderTargetForm.get("rotationX").disable(),this.renderTargetForm.get("rotationY").disable(),this.renderTargetForm.get("rotationZ").disable())})}createScreen(){this.nuiService.createScreen(this.screenName,this.alwaysOn,this.globalVolume,this.soundAttenuation,this.soundMinDistance,this.soundMaxDistance,this.is3DRendered,this.is3DAudioEnabled,this.modelName,this.renderTargetName,this.positionX,this.positionY,this.positionZ,this.rotationX,this.rotationY,this.rotationZ,this.scaleX,this.scaleY,this.scaleZ)}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(F.c),l.Rb(c.a))},e.\u0275cmp=l.Lb({type:e,selectors:[["app-create-new-screen"]],decls:55,vars:13,consts:[[3,"linear"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["matInput","","placeholder","Name","formControlName","name","required",""],[2,"padding-bottom","5px","padding-top","20px"],["matTooltip","whether to always show the screen even if no video is playing","formControlName","alwaysOn"],["mat-button","","matStepperNext",""],["formControlName","is3DRendered"],[4,"ngIf"],["mat-button","","matStepperPrevious",""],[2,"margin-top","20px"],["thumbLabel","","step","1","value","100","formControlName","globalVolume",3,"max","min"],["formControlName","is3DAudioEnabled"],["mat-raised-button","","color","primary",3,"click"],["matInput","","matTooltip","The name of the model to which the rendertarget belongs","placeholder","Model-Name","formControlName","modelName","required","",3,"appEnableControl"],[2,"padding-left","5px"],["matInput","","placeholder","RenderTarget Name","formControlName","renderTargetName","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","positionX","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","positionY","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","positionZ","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","rotationX","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","rotationY","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","rotationZ","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","scaleX","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","scaleY","required","",3,"appEnableControl"],["type","number","matInput","","formControlName","scaleZ","required","",3,"appEnableControl"],["thumbLabel","","step","1","value","5","formControlName","soundAttenuation",3,"max","min"],["step","1","thumbLabel","","value","10","formControlName","soundMinDistance",3,"min","max"],["step","10","thumbLabel","","value","100","formControlName","soundMaxDistance",3,"min","max"]],template:function(e,t){1&e&&(l.Xb(0,"mat-card"),l.Xb(1,"mat-card-header"),l.Xb(2,"mat-card-title"),l.Dc(3,"Create Screen"),l.Wb(),l.Xb(4,"mat-card-subtitle"),l.Dc(5,"Create a new Screen which can be used to play videos on"),l.Wb(),l.Wb(),l.Xb(6,"mat-card-content"),l.Xb(7,"mat-horizontal-stepper",0,1),l.Xb(9,"mat-step",2),l.Xb(10,"form",3),l.Bc(11,Te,1,0,"ng-template",4),l.Xb(12,"mat-form-field"),l.Sb(13,"input",5),l.Xb(14,"mat-hint"),l.Dc(15,"The name is for you to better distinct between screens and "),l.Xb(16,"strong"),l.Dc(17,"must be unique!"),l.Wb(),l.Wb(),l.Xb(18,"mat-error"),l.Dc(19,"Please enter a name"),l.Wb(),l.Wb(),l.Xb(20,"div",6),l.Xb(21,"mat-checkbox",7),l.Dc(22,"Always On"),l.Wb(),l.Wb(),l.Xb(23,"div"),l.Xb(24,"button",8),l.Dc(25,"Next"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(26,"mat-step",2),l.Xb(27,"form",3),l.Bc(28,Ne,1,0,"ng-template",4),l.Xb(29,"mat-checkbox",9),l.Dc(30,"Is 3D Rendered"),l.Wb(),l.Bc(31,je,9,2,"div",10),l.Bc(32,ke,64,9,"div",10),l.Xb(33,"div"),l.Xb(34,"button",11),l.Dc(35,"Back"),l.Wb(),l.Xb(36,"button",8),l.Dc(37,"Next"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(38,"mat-step",2),l.Xb(39,"form",3),l.Bc(40,Ae,1,0,"ng-template",4),l.Xb(41,"div",12),l.Xb(42,"em"),l.Dc(43,"Global Volume"),l.Wb(),l.Sb(44,"mat-slider",13),l.Dc(45),l.Wb(),l.Xb(46,"div"),l.Xb(47,"mat-checkbox",14),l.Dc(48,"Use 3D Audio"),l.Wb(),l.Wb(),l.Bc(49,Me,16,9,"div",10),l.Xb(50,"div"),l.Xb(51,"button",11),l.Dc(52,"Back"),l.Wb(),l.Xb(53,"button",15),l.fc("click",(function(){return t.createScreen()})),l.Dc(54,"Submit"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&e&&(l.Eb(7),l.oc("linear",!0),l.Eb(2),l.oc("stepControl",t.screenForm),l.Eb(1),l.oc("formGroup",t.screenForm),l.Eb(16),l.oc("stepControl",t.renderTargetForm),l.Eb(1),l.oc("formGroup",t.renderTargetForm),l.Eb(4),l.oc("ngIf",!1===t.renderTargetForm.get("is3DRendered").value),l.Eb(1),l.oc("ngIf",!0===t.renderTargetForm.get("is3DRendered").value),l.Eb(6),l.oc("stepControl",t.soundForm),l.Eb(1),l.oc("formGroup",t.soundForm),l.Eb(5),l.oc("max",100)("min",1),l.Eb(1),l.Fc(" ",t.soundForm.get("globalVolume").value," "),l.Eb(4),l.oc("ngIf",!1===t.soundForm.get("is3DAudioEnabled").value))},directives:[W.a,W.c,W.f,W.e,W.b,xe,ve,F.r,F.k,F.e,be,We.c,we.a,F.b,F.j,F.d,F.p,We.f,We.b,Oe.a,p.a,b.b,Ce,i.k,Ee,Re.a,Ie,F.n,We.g],styles:[""]}),e})()},{path:"edit-screen",component:(()=>{class e{constructor(e,t){this.fb=e,this.nuiService=t,this.screenForm=this.fb.group({screenName:["",[F.q.required]],modelName:["",[F.q.required]],renderTargetName:["",[F.q.required]],soundAttenuation:[5],is3DAudioEnabled:[!1],soundMaxDistance:[100],soundMinDistance:[10],globalVolume:[100],alwaysOn:[!1],is3DRendered:[!1],positionX:[0],positionY:[0],positionZ:[0],rotationX:[0],rotationY:[0],rotationZ:[0],scaleX:[0],scaleY:[0],scaleZ:[0]})}ngOnInit(){this.screen.subscribe(e=>{e&&(this.screenId=e.id,this.screenForm.patchValue({screenName:e.name,modelName:e.is3DRendered?"":e.targetSettings.modelName,renderTargetName:e.is3DRendered?"":e.targetSettings.renderTargetName,soundAttenuation:e.browserSettings.soundAttenuation,soundMinDistance:e.browserSettings.soundMinDistance,soundMaxDistance:e.browserSettings.soundMaxDistance,globalVolume:e.browserSettings.globalVolume,alwaysOn:e.alwaysOn,is3DRendered:e.is3DRendered,positionX:e.is3DRendered?e.positionalSettings.positionX:0,positionY:e.is3DRendered?e.positionalSettings.positionY:0,positionZ:e.is3DRendered?e.positionalSettings.positionZ:0,rotationX:e.is3DRendered?e.positionalSettings.rotationX:0,rotationY:e.is3DRendered?e.positionalSettings.rotationY:0,rotationZ:e.is3DRendered?e.positionalSettings.rotationZ:0,scaleX:e.is3DRendered?e.positionalSettings.scaleX:0,scaleY:e.is3DRendered?e.positionalSettings.scaleY:0,scaleZ:e.is3DRendered?e.positionalSettings.scaleZ:0,is3DAudioEnabled:e.browserSettings.is3DAudioEnabled}))}),this.screenForm.get("is3DRendered").valueChanges.subscribe(e=>{e?(this.screenForm.get("renderTargetName").disable(),this.screenForm.get("modelName").disable(),this.screenForm.get("positionX").enable(),this.screenForm.get("positionY").enable(),this.screenForm.get("positionZ").enable(),this.screenForm.get("rotationX").enable(),this.screenForm.get("rotationY").enable(),this.screenForm.get("rotationZ").enable(),this.screenForm.get("scaleX").enable(),this.screenForm.get("scaleY").enable(),this.screenForm.get("scaleZ").enable()):(this.screenForm.get("renderTargetName").enable(),this.screenForm.get("modelName").enable(),this.screenForm.get("positionX").disable(),this.screenForm.get("positionY").disable(),this.screenForm.get("positionZ").disable(),this.screenForm.get("rotationX").disable(),this.screenForm.get("rotationY").disable(),this.screenForm.get("rotationZ").disable(),this.screenForm.get("scaleX").disable(),this.screenForm.get("scaleY").disable(),this.screenForm.get("scaleZ").disable())})}submit(){this.nuiService.editScreen(this.screenForm.get("screenName").value,this.screenId,this.screenForm.get("is3DRendered").value,this.screenForm.get("alwaysOn").value,this.screenForm.get("modelName").value,this.screenForm.get("renderTargetName").value,this.screenForm.get("globalVolume").value,this.screenForm.get("soundAttenuation").value,this.screenForm.get("soundMinDistance").value,this.screenForm.get("soundMaxDistance").value,this.screenForm.get("positionX").value,this.screenForm.get("positionY").value,this.screenForm.get("positionZ").value,this.screenForm.get("rotationX").value,this.screenForm.get("rotationY").value,this.screenForm.get("rotationZ").value,this.screenForm.get("scaleX").value,this.screenForm.get("scaleY").value,this.screenForm.get("scaleZ").value,this.screenForm.get("is3DAudioEnabled").value)}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(F.c),l.Rb(c.a))},e.\u0275cmp=l.Lb({type:e,selectors:[["app-edit-screen"]],decls:31,vars:8,consts:[[2,"display","flex"],[1,"form-container"],[3,"formGroup"],["matInput","","formControlName","screenName","name","screenName","required",""],["formControlName","alwaysOn"],["formControlName","is3DRendered",2,"margin-left","10px"],[4,"ngIf"],["thumbLabel","","formControlName","globalVolume",3,"min","max","step"],["formControlName","is3DAudioEnabled",2,"margin-left","10px"],["mat-raised-button","","color","accent","type","submit",2,"display","flex","margin-top","-10px","float","right","margin-right","-70px",3,"click"],["matInput","","formControlName","modelName","name","modelName","required","",3,"appEnableControl"],["matInput","","formControlName","renderTargetName","name","renderTargetName","required","",3,"appEnableControl"],["matInput","","formControlName","positionX","type","number","name","positionX","required","",3,"appEnableControl"],["matInput","","formControlName","positionY","name","positionY","type","number","required","",3,"appEnableControl"],["matInput","","formControlName","positionZ","type","number","name","positionZ","required","",3,"appEnableControl"],["matInput","","formControlName","rotationX","name","rotationX","type","number","required","",3,"appEnableControl"],["matInput","","formControlName","rotationY","type","number","name","rotationY","required","",3,"appEnableControl"],["matInput","","formControlName","rotationZ","type","number","name","rotationZ","required","",3,"appEnableControl"],["matInput","","formControlName","scaleX","type","number","name","scaleX","required","",3,"appEnableControl"],["matInput","","formControlName","scaleY","type","number","name","scaleY","required","",3,"appEnableControl"],["matInput","","formControlName","scaleZ","type","number","name","scaleZ","required","",3,"appEnableControl"],["thumbLabel","","formControlName","soundAttenuation",3,"min","max","step"],["thumbLabel","","formControlName","soundMinDistance",3,"min","max","step"],["thumbLabel","","formControlName","soundMaxDistance",3,"min","max","step"]],template:function(e,t){1&e&&(l.Xb(0,"mat-card",0),l.Xb(1,"mat-card-header"),l.Xb(2,"mat-card-title"),l.Dc(3,"Edit Screen"),l.Wb(),l.Wb(),l.Xb(4,"mat-card-content"),l.Xb(5,"div",1),l.Xb(6,"form",2),l.Xb(7,"div"),l.Xb(8,"mat-form-field"),l.Xb(9,"mat-label"),l.Dc(10,"Name"),l.Wb(),l.Sb(11,"input",3),l.Wb(),l.Wb(),l.Xb(12,"div"),l.Xb(13,"mat-checkbox",4),l.Dc(14,"Always On"),l.Wb(),l.Xb(15,"mat-checkbox",5),l.Dc(16,"3D Rendered"),l.Wb(),l.Wb(),l.Bc(17,Pe,11,2,"div",6),l.Bc(18,Le,46,9,"div",6),l.Xb(19,"div"),l.Xb(20,"mat-label"),l.Dc(21,"Global Volume"),l.Wb(),l.Sb(22,"mat-slider",7),l.Dc(23),l.Wb(),l.Xb(24,"div"),l.Xb(25,"mat-checkbox",8),l.Dc(26,"Enable 3D Audio"),l.Wb(),l.Wb(),l.Bc(27,Be,16,12,"div",6),l.Sb(28,"div"),l.Xb(29,"button",9),l.fc("click",(function(){return t.submit()})),l.Dc(30,"Submit "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&e&&(l.Eb(6),l.oc("formGroup",t.screenForm),l.Eb(11),l.oc("ngIf",!1===t.screenForm.get("is3DRendered").value),l.Eb(1),l.oc("ngIf",!0===t.screenForm.get("is3DRendered").value),l.Eb(4),l.oc("min",1)("max",100)("step",1),l.Eb(1),l.Fc(" ",t.screenForm.get("globalVolume").value," "),l.Eb(4),l.oc("ngIf",!1===t.screenForm.get("is3DAudioEnabled").value))},directives:[W.a,W.c,W.f,W.b,F.r,F.k,F.e,We.c,We.g,we.a,F.b,F.j,F.d,F.p,Oe.a,i.k,Re.a,b.b,Ie,F.n],styles:[".form-container[_ngcontent-%COMP%]{max-height:380px}"]}),Object(o.a)([Object(a.d)(s.a.getSelectedScreen)],e.prototype,"screen",void 0),e})()}];let Ze=(()=>{class e{}return e.\u0275mod=l.Pb({type:e}),e.\u0275inj=l.Ob({factory:function(t){return new(t||e)},imports:[[r.d.forChild(qe)],r.d]}),e})();var ze=n("rDax"),Ye=n("NXyV"),Ve=n("pLZG"),He=n("IzEk");function Ge(e,t){}class $e{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Ue={dialogContainer:Object(K.m)("dialogContainer",[Object(K.j)("void, exit",Object(K.k)({opacity:0,transform:"scale(0.7)"})),Object(K.j)("enter",Object(K.k)({transform:"none"})),Object(K.l)("* => enter",Object(K.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(K.k)({transform:"none",opacity:1}))),Object(K.l)("* => void, * => exit",Object(K.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(K.k)({opacity:0})))])};function Ke(){throw Error("Attempting to attach dialog content after content is already attached")}let Qe=(()=>{class e extends w.a{constructor(e,t,n,i,r){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=r,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new l.p,this.attachDomPortal=e=>(this._portalOutlet.hasAttached()&&Ke(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&Ke(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&Ke(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}_trapFocus(){const e=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const t=this._document.activeElement;t===e||e.contains(t)||e.focus()}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||e.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(l.m),l.Rb(O.f),l.Rb(l.i),l.Rb(i.d,8),l.Rb($e))},e.\u0275cmp=l.Lb({type:e,selectors:[["mat-dialog-container"]],viewQuery:function(e,t){var n;1&e&&l.zc(w.b,!0),2&e&&l.qc(n=l.gc())&&(t._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&l.Jb("@dialogContainer.start",(function(e){return t._onAnimationStart(e)}))("@dialogContainer.done",(function(e){return t._onAnimationDone(e)})),2&e&&(l.Fb("id",t._id)("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),l.Hc("@dialogContainer",t._state))},features:[l.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&l.Bc(0,Ge,0,0,"ng-template",0)},directives:[w.b],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ue.dialogContainer]}}),e})(),Je=0;class et{constructor(e,t,n=`mat-dialog-${Je++}`){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new N.a,this._afterClosed=new N.a,this._beforeClosed=new N.a,this._state=0,t._id=n,t._animationStateChanged.pipe(Object(Ve.a)(e=>"done"===e.phaseName&&"enter"===e.toState),Object(He.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(Ve.a)(e=>"done"===e.phaseName&&"exit"===e.toState),Object(He.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Object(Ve.a)(e=>e.keyCode===T.g&&!this.disableClose&&!Object(T.s)(e))).subscribe(e=>{e.preventDefault(),this.close()})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Object(Ve.a)(e=>"start"===e.phaseName),Object(He.a)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._state=2,this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const tt=new l.s("MatDialogData"),nt=new l.s("mat-dialog-default-options"),it=new l.s("mat-dialog-scroll-strategy"),rt={provide:it,deps:[ze.c],useFactory:function(e){return()=>e.scrollStrategies.block()}};let ot=(()=>{class e{constructor(e,t,n,i,r,o,a){this._overlay=e,this._injector=t,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new N.a,this._afterOpenedAtThisLevel=new N.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(Ye.a)(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(k.a)(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new $e)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(t),i=this._attachDialogContainer(n,t),r=this._attachDialogContent(e,i,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new ze.d({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=l.t.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:$e,useValue:t}]}),i=new w.c(Qe,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}_attachDialogContent(e,t,n,i){const r=new et(n,t,i.id);if(i.hasBackdrop&&n.backdropClick().subscribe(()=>{r.disableClose||r.close()}),e instanceof l.N)t.attachTemplatePortal(new w.g(e,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,t),o=t.attachComponentPortal(new w.c(e,i.viewContainerRef,n));r.componentInstance=o.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=[{provide:Qe,useValue:n},{provide:tt,useValue:e.data},{provide:et,useValue:t}];return!e.direction||i&&i.get(R.b,null)||r.push({provide:R.b,useValue:{value:e.direction,change:Object(j.a)()}}),l.t.create({parent:i||this._injector,providers:r})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(l.bc(ze.c),l.bc(l.t),l.bc(i.g,8),l.bc(nt,8),l.bc(it),l.bc(e,12),l.bc(ze.e))},e.\u0275prov=l.Nb({token:e,factory:e.\u0275fac}),e})(),at=(()=>{class e{}return e.\u0275mod=l.Pb({type:e}),e.\u0275inj=l.Ob({factory:function(t){return new(t||e)},providers:[ot,rt],imports:[[ze.f,w.f,$.e],$.e]}),e})();var st=n("d3UM"),lt=n("hh/h");let ct=(()=>{class e{}return e.\u0275mod=l.Pb({type:e}),e.\u0275inj=l.Ob({factory:function(t){return new(t||e)},imports:[[i.c,Ze,m.b,b.c,d.k,at,W.d,F.o,We.e,st.b,Fe,we.b,Re.b,Oe.b,F.f,p.b,lt.QuickPlayModule]]}),e})()}}]);